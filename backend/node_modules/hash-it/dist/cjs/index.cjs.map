{"version":3,"file":"index.cjs","sources":["../../src/hash.ts","../../src/constants.ts","../../src/sort.ts","../../src/utils.ts","../../src/cache.ts","../../src/stringify.ts","../../src/index.ts"],"sourcesContent":["/**\n * based on string passed, get the integer hash value\n * through bitwise operation (based on spinoff of dbj2\n * with enhancements for reduced collisions)\n */\nexport function hash(string: string) {\n  let index = string.length;\n  let hashA = 5381;\n  let hashB = 52711;\n  let charCode;\n\n  while (index--) {\n    charCode = string.charCodeAt(index);\n\n    hashA = (hashA * 33) ^ charCode;\n    hashB = (hashB * 33) ^ charCode;\n  }\n\n  return (hashA >>> 0) * 4096 + (hashB >>> 0);\n}\n","export const SEPARATOR = '|';\nexport const XML_ELEMENT_REGEXP = /\\[object ([HTML|SVG](.*)Element)\\]/;\n\nexport const CLASSES = {\n  '[object Arguments]': 0,\n  '[object Array]': 1,\n  '[object ArrayBuffer]': 2,\n  '[object AsyncFunction]': 3,\n  '[object AsyncGeneratorFunction]': 4,\n  '[object BigInt]': 5,\n  '[object BigInt64Array]': 6,\n  '[object BigUint64Array]': 7,\n  '[object Boolean]': 8,\n  '[object DataView]': 9,\n  '[object Date]': 10,\n  '[object DocumentFragment]': 11,\n  '[object Error]': 12,\n  '[object Event]': 13,\n  '[object Float32Array]': 14,\n  '[object Float64Array]': 15,\n  '[object Function]': 16,\n  '[object Generator]': 17,\n  '[object GeneratorFunction]': 18,\n  '[object Int8Array]': 19,\n  '[object Int16Array]': 20,\n  '[object Map]': 21,\n  '[object Number]': 22,\n  '[object Object]': 23,\n  '[object Promise]': 24,\n  '[object RegExp]': 25,\n  '[object Set]': 26,\n  '[object SharedArrayBuffer]': 27,\n  '[object String]': 28,\n  '[object Uint8Array]': 29,\n  '[object Uint8ClampedArray]': 30,\n  '[object Uint16Array]': 31,\n  '[object Uint32Array]': 32,\n  '[object WeakMap]': 33,\n  '[object WeakRef]': 34,\n  '[object WeakSet]': 35,\n  CUSTOM: 36,\n  ELEMENT: 37,\n} as const;\n\nexport type Class = keyof typeof CLASSES;\n\nexport const ARRAY_LIKE_CLASSES = {\n  '[object Arguments]': 1,\n  '[object Array]': 2,\n} as const;\n\nexport type ArrayLikeClass = keyof typeof ARRAY_LIKE_CLASSES;\n\nexport const NON_ENUMERABLE_CLASSES = {\n  '[object Generator]': 1,\n  '[object Promise]': 2,\n  '[object WeakMap]': 3,\n  '[object WeakRef]': 4,\n  '[object WeakSet]': 5,\n} as const;\n\nexport type NonEnumerableClass = keyof typeof NON_ENUMERABLE_CLASSES;\n\nexport const PRIMITIVE_WRAPPER_CLASSES = {\n  '[object AsyncFunction]': 1,\n  '[object AsyncGeneratorFunction]': 2,\n  '[object Boolean]': 3,\n  '[object Function]': 4,\n  '[object GeneratorFunction]': 5,\n  '[object Number]': 6,\n  '[object String]': 7,\n} as const;\n\nexport type PrimitiveWrapperClass = keyof typeof PRIMITIVE_WRAPPER_CLASSES;\n\nexport const TYPED_ARRAY_CLASSES = {\n  '[object BigInt64Array]': 1,\n  '[object BigUint64Array]': 2,\n  '[object Float32Array]': 3,\n  '[object Float64Array]': 4,\n  '[object Int8Array]': 5,\n  '[object Int16Array]': 6,\n  '[object Uint8Array]': 7,\n  '[object Uint8ClampedArray]': 8,\n  '[object Uint16Array]': 9,\n  '[object Uint32Array]': 10,\n} as const;\n\nexport type TypedArrayClass = keyof typeof TYPED_ARRAY_CLASSES;\n\nexport const RECURSIVE_CLASSES = {\n  '[object Arguments]': 1,\n  '[object Array]': 2,\n  '[object ArrayBuffer]': 3,\n  '[object BigInt64Array]': 4,\n  '[object BigUint64Array]': 5,\n  '[object DataView]': 6,\n  '[object Float32Array]': 7,\n  '[object Float64Array]': 8,\n  '[object Int8Array]': 9,\n  '[object Int16Array]': 10,\n  '[object Map]': 11,\n  '[object Object]': 12,\n  '[object Set]': 13,\n  '[object SharedArrayBuffer]': 14,\n  '[object Uint8Array]': 15,\n  '[object Uint8ClampedArray]': 16,\n  '[object Uint16Array]': 17,\n  '[object Uint32Array]': 18,\n  CUSTOM: 19,\n} as const;\n\nexport type RecursiveClass = keyof typeof RECURSIVE_CLASSES;\n\nexport const HASHABLE_TYPES = {\n  bigint: 'i',\n  boolean: 'b',\n  empty: 'e',\n  function: 'g',\n  number: 'n',\n  object: 'o',\n  string: 's',\n  symbol: 's',\n} as const;\n\nexport type HashableType = keyof typeof HASHABLE_TYPES;\n","export function sortByKey(\n  first: [string, string],\n  second: [string, string],\n): boolean {\n  return first[0] > second[0];\n}\n\nexport function sortBySelf(first: string, second: string) {\n  return first > second;\n}\n\nexport function sort(\n  array: any[],\n  fn: (item: any, comparisonItem: any) => boolean,\n) {\n  let subIndex;\n  let value;\n\n  for (let index = 0; index < array.length; ++index) {\n    value = array[index];\n\n    for (\n      subIndex = index - 1;\n      ~subIndex && fn(array[subIndex], value);\n      --subIndex\n    ) {\n      array[subIndex + 1] = array[subIndex];\n    }\n\n    array[subIndex + 1] = value;\n  }\n\n  return array;\n}\n","import { CLASSES, HASHABLE_TYPES, SEPARATOR } from './constants';\n\nimport type { Class } from './constants';\n\nexport function namespaceComplexValue(\n  classType: Class,\n  value: string | number | boolean,\n) {\n  return (\n    HASHABLE_TYPES.object + SEPARATOR + CLASSES[classType] + SEPARATOR + value\n  );\n}\n","import { SEPARATOR } from './constants';\nimport { namespaceComplexValue } from './utils';\n\nimport type { Class } from './constants';\n\nexport const NON_ENUMERABLE_CLASS_CACHE = new WeakMap<\n  NonEnumerableObject,\n  string\n>();\n\ntype NonEnumerableObject =\n  | Generator<any, any, any>\n  | Promise<any>\n  | WeakMap<any, any>\n  | WeakSet<any>;\n\nlet refId = 0;\nexport function getUnsupportedHash(\n  value: NonEnumerableObject,\n  classType: Class,\n): string {\n  const cached = NON_ENUMERABLE_CLASS_CACHE.get(value);\n\n  if (cached) {\n    return cached;\n  }\n\n  const toCache = namespaceComplexValue(\n    classType,\n    'NOT_ENUMERABLE' + SEPARATOR + refId++,\n  );\n\n  NON_ENUMERABLE_CLASS_CACHE.set(value, toCache);\n\n  return toCache;\n}\n","import {\n  ARRAY_LIKE_CLASSES,\n  HASHABLE_TYPES,\n  NON_ENUMERABLE_CLASSES,\n  PrimitiveWrapperClass,\n  PRIMITIVE_WRAPPER_CLASSES,\n  RECURSIVE_CLASSES,\n  SEPARATOR,\n  TYPED_ARRAY_CLASSES,\n  XML_ELEMENT_REGEXP,\n} from './constants';\nimport { sort, sortByKey, sortBySelf } from './sort';\n\nimport type {\n  ArrayLikeClass,\n  Class,\n  NonEnumerableClass,\n  RecursiveClass,\n  TypedArrayClass,\n} from './constants';\nimport { getUnsupportedHash } from './cache';\nimport { namespaceComplexValue } from './utils';\n\ninterface RecursiveState {\n  cache: WeakMap<any, number>;\n  id: number;\n}\n\nconst toString = Object.prototype.toString;\n\nfunction stringifyComplexType(\n  value: any,\n  classType: Class,\n  state: RecursiveState,\n) {\n  if (RECURSIVE_CLASSES[classType as RecursiveClass]) {\n    return stringifyRecursiveAsJson(classType as RecursiveClass, value, state);\n  }\n\n  if (classType === '[object Date]') {\n    return namespaceComplexValue(classType, value.getTime());\n  }\n\n  if (classType === '[object RegExp]') {\n    return namespaceComplexValue(classType, value.toString());\n  }\n\n  if (classType === '[object Event]') {\n    return namespaceComplexValue(\n      classType,\n      [\n        value.bubbles,\n        value.cancelBubble,\n        value.cancelable,\n        value.composed,\n        value.currentTarget,\n        value.defaultPrevented,\n        value.eventPhase,\n        value.isTrusted,\n        value.returnValue,\n        value.target,\n        value.type,\n      ].join(),\n    );\n  }\n\n  if (classType === '[object Error]') {\n    return namespaceComplexValue(\n      classType,\n      value.message + SEPARATOR + value.stack,\n    );\n  }\n\n  if (classType === '[object DocumentFragment]') {\n    return namespaceComplexValue(classType, stringifyDocumentFragment(value));\n  }\n\n  const element = classType.match(XML_ELEMENT_REGEXP);\n\n  if (element) {\n    return namespaceComplexValue(\n      'ELEMENT',\n      element[1] + SEPARATOR + value.outerHTML,\n    );\n  }\n\n  if (NON_ENUMERABLE_CLASSES[classType as NonEnumerableClass]) {\n    return getUnsupportedHash(value, classType);\n  }\n\n  if (PRIMITIVE_WRAPPER_CLASSES[classType as PrimitiveWrapperClass]) {\n    return namespaceComplexValue(classType, value.toString());\n  }\n\n  // This would only be hit with custom `toStringTag` values\n  return stringifyRecursiveAsJson('CUSTOM', value, state);\n}\n\nfunction stringifyRecursiveAsJson(\n  classType: RecursiveClass,\n  value: any,\n  state: RecursiveState,\n) {\n  const cached = state.cache.get(value);\n\n  if (cached) {\n    return namespaceComplexValue(classType, 'RECURSIVE~' + cached);\n  }\n\n  state.cache.set(value, ++state.id);\n\n  if (classType === '[object Object]') {\n    return value[Symbol.iterator]\n      ? getUnsupportedHash(value, classType)\n      : namespaceComplexValue(classType, stringifyObject(value, state));\n  }\n\n  if (ARRAY_LIKE_CLASSES[classType as ArrayLikeClass]) {\n    return namespaceComplexValue(classType, stringifyArray(value, state));\n  }\n\n  if (classType === '[object Map]') {\n    return namespaceComplexValue(classType, stringifyMap(value, state));\n  }\n\n  if (classType === '[object Set]') {\n    return namespaceComplexValue(classType, stringifySet(value, state));\n  }\n\n  if (TYPED_ARRAY_CLASSES[classType as TypedArrayClass]) {\n    return namespaceComplexValue(classType, value.join());\n  }\n\n  if (classType === '[object ArrayBuffer]') {\n    return namespaceComplexValue(classType, stringifyArrayBuffer(value));\n  }\n\n  if (classType === '[object DataView]') {\n    return namespaceComplexValue(classType, stringifyArrayBuffer(value.buffer));\n  }\n\n  if (NON_ENUMERABLE_CLASSES[classType as NonEnumerableClass]) {\n    return getUnsupportedHash(value, classType);\n  }\n\n  return namespaceComplexValue('CUSTOM', stringifyObject(value, state));\n}\n\nexport function stringifyArray(value: any[], state: RecursiveState) {\n  let index = value.length;\n\n  const result: string[] = new Array(index);\n\n  while (--index >= 0) {\n    result[index] = stringify(value[index], state);\n  }\n\n  return result.join();\n}\n\nexport function stringifyArrayBufferModern(buffer: ArrayBufferLike): string {\n  return Buffer.from(buffer).toString('utf8');\n}\n\nexport function stringifyArrayBufferFallback(buffer: ArrayBufferLike): string {\n  return String.fromCharCode.apply(\n    null,\n    new Uint16Array(buffer) as unknown as number[],\n  );\n}\n\nexport function stringifyArrayBufferNone(): string {\n  return 'UNSUPPORTED';\n}\n\nexport function stringifyDocumentFragment(fragment: DocumentFragment): string {\n  const children = fragment.children;\n\n  let index = children.length;\n\n  const innerHTML: string[] = new Array(index);\n\n  while (--index >= 0) {\n    innerHTML[index] = children[index]!.outerHTML;\n  }\n\n  return innerHTML.join();\n}\n\nconst stringifyArrayBuffer =\n  typeof Buffer !== 'undefined' && typeof Buffer.from === 'function'\n    ? stringifyArrayBufferModern\n    : typeof Uint16Array === 'function'\n    ? stringifyArrayBufferFallback\n    : stringifyArrayBufferNone;\n\nexport function stringifyMap(map: Map<any, any>, state: RecursiveState) {\n  const result: string[] | Array<[string, string]> = new Array(map.size);\n\n  let index = 0;\n  map.forEach((value, key) => {\n    result[index++] = [stringify(key, state), stringify(value, state)];\n  });\n\n  sort(result, sortByKey);\n\n  while (--index >= 0) {\n    result[index] = '[' + result[index]![0] + ',' + result[index]![1] + ']';\n  }\n\n  return '[' + result.join() + ']';\n}\n\nexport function stringifyObject(\n  value: Record<string, any>,\n  state: RecursiveState,\n) {\n  const properties = sort(Object.getOwnPropertyNames(value), sortBySelf);\n  const length = properties.length;\n  const result: string[] = new Array(length);\n\n  let index = length;\n\n  while (--index >= 0) {\n    result[index] =\n      properties[index]! + ':' + stringify(value[properties[index]!], state);\n  }\n\n  return '{' + result.join() + '}';\n}\n\nexport function stringifySet(set: Set<any>, state: RecursiveState) {\n  const result: string[] = new Array(set.size);\n\n  let index = 0;\n  set.forEach((value) => {\n    result[index++] = stringify(value, state);\n  });\n\n  return '[' + sort(result, sortBySelf).join() + ']';\n}\n\nexport function stringify(\n  value: any,\n  state: RecursiveState | undefined,\n): string {\n  const type = typeof value;\n\n  if (value == null || type === 'undefined') {\n    return HASHABLE_TYPES.empty + value;\n  }\n\n  if (type === 'object') {\n    return stringifyComplexType(\n      value,\n      toString.call(value) as unknown as Class,\n      state || { cache: new WeakMap(), id: 1 },\n    );\n  }\n\n  if (type === 'function' || type === 'symbol') {\n    return HASHABLE_TYPES[type] + value.toString();\n  }\n\n  if (type === 'boolean') {\n    return HASHABLE_TYPES.boolean + +value;\n  }\n\n  return HASHABLE_TYPES[type] + value;\n}\n","import { hash } from './hash';\nimport { stringify } from './stringify';\n\nexport default function hashIt<Value>(value: Value): number {\n  return hash(stringify(value, undefined));\n}\n"],"names":[],"mappings":"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"}