{"version":3,"file":"index.js","sources":["../../src/hash.ts","../../src/constants.ts","../../src/sort.ts","../../src/utils.ts","../../src/cache.ts","../../src/stringify.ts","../../src/index.ts"],"sourcesContent":["/**\n * based on string passed, get the integer hash value\n * through bitwise operation (based on spinoff of dbj2\n * with enhancements for reduced collisions)\n */\nexport function hash(string: string) {\n  let index = string.length;\n  let hashA = 5381;\n  let hashB = 52711;\n  let charCode;\n\n  while (index--) {\n    charCode = string.charCodeAt(index);\n\n    hashA = (hashA * 33) ^ charCode;\n    hashB = (hashB * 33) ^ charCode;\n  }\n\n  return (hashA >>> 0) * 4096 + (hashB >>> 0);\n}\n","export const SEPARATOR = '|';\nexport const XML_ELEMENT_REGEXP = /\\[object ([HTML|SVG](.*)Element)\\]/;\n\nexport const CLASSES = {\n  '[object Arguments]': 0,\n  '[object Array]': 1,\n  '[object ArrayBuffer]': 2,\n  '[object AsyncFunction]': 3,\n  '[object AsyncGeneratorFunction]': 4,\n  '[object BigInt]': 5,\n  '[object BigInt64Array]': 6,\n  '[object BigUint64Array]': 7,\n  '[object Boolean]': 8,\n  '[object DataView]': 9,\n  '[object Date]': 10,\n  '[object DocumentFragment]': 11,\n  '[object Error]': 12,\n  '[object Event]': 13,\n  '[object Float32Array]': 14,\n  '[object Float64Array]': 15,\n  '[object Function]': 16,\n  '[object Generator]': 17,\n  '[object GeneratorFunction]': 18,\n  '[object Int8Array]': 19,\n  '[object Int16Array]': 20,\n  '[object Map]': 21,\n  '[object Number]': 22,\n  '[object Object]': 23,\n  '[object Promise]': 24,\n  '[object RegExp]': 25,\n  '[object Set]': 26,\n  '[object SharedArrayBuffer]': 27,\n  '[object String]': 28,\n  '[object Uint8Array]': 29,\n  '[object Uint8ClampedArray]': 30,\n  '[object Uint16Array]': 31,\n  '[object Uint32Array]': 32,\n  '[object WeakMap]': 33,\n  '[object WeakRef]': 34,\n  '[object WeakSet]': 35,\n  CUSTOM: 36,\n  ELEMENT: 37,\n} as const;\n\nexport type Class = keyof typeof CLASSES;\n\nexport const ARRAY_LIKE_CLASSES = {\n  '[object Arguments]': 1,\n  '[object Array]': 2,\n} as const;\n\nexport type ArrayLikeClass = keyof typeof ARRAY_LIKE_CLASSES;\n\nexport const NON_ENUMERABLE_CLASSES = {\n  '[object Generator]': 1,\n  '[object Promise]': 2,\n  '[object WeakMap]': 3,\n  '[object WeakRef]': 4,\n  '[object WeakSet]': 5,\n} as const;\n\nexport type NonEnumerableClass = keyof typeof NON_ENUMERABLE_CLASSES;\n\nexport const PRIMITIVE_WRAPPER_CLASSES = {\n  '[object AsyncFunction]': 1,\n  '[object AsyncGeneratorFunction]': 2,\n  '[object Boolean]': 3,\n  '[object Function]': 4,\n  '[object GeneratorFunction]': 5,\n  '[object Number]': 6,\n  '[object String]': 7,\n} as const;\n\nexport type PrimitiveWrapperClass = keyof typeof PRIMITIVE_WRAPPER_CLASSES;\n\nexport const TYPED_ARRAY_CLASSES = {\n  '[object BigInt64Array]': 1,\n  '[object BigUint64Array]': 2,\n  '[object Float32Array]': 3,\n  '[object Float64Array]': 4,\n  '[object Int8Array]': 5,\n  '[object Int16Array]': 6,\n  '[object Uint8Array]': 7,\n  '[object Uint8ClampedArray]': 8,\n  '[object Uint16Array]': 9,\n  '[object Uint32Array]': 10,\n} as const;\n\nexport type TypedArrayClass = keyof typeof TYPED_ARRAY_CLASSES;\n\nexport const RECURSIVE_CLASSES = {\n  '[object Arguments]': 1,\n  '[object Array]': 2,\n  '[object ArrayBuffer]': 3,\n  '[object BigInt64Array]': 4,\n  '[object BigUint64Array]': 5,\n  '[object DataView]': 6,\n  '[object Float32Array]': 7,\n  '[object Float64Array]': 8,\n  '[object Int8Array]': 9,\n  '[object Int16Array]': 10,\n  '[object Map]': 11,\n  '[object Object]': 12,\n  '[object Set]': 13,\n  '[object SharedArrayBuffer]': 14,\n  '[object Uint8Array]': 15,\n  '[object Uint8ClampedArray]': 16,\n  '[object Uint16Array]': 17,\n  '[object Uint32Array]': 18,\n  CUSTOM: 19,\n} as const;\n\nexport type RecursiveClass = keyof typeof RECURSIVE_CLASSES;\n\nexport const HASHABLE_TYPES = {\n  bigint: 'i',\n  boolean: 'b',\n  empty: 'e',\n  function: 'g',\n  number: 'n',\n  object: 'o',\n  string: 's',\n  symbol: 's',\n} as const;\n\nexport type HashableType = keyof typeof HASHABLE_TYPES;\n","export function sortByKey(\n  first: [string, string],\n  second: [string, string],\n): boolean {\n  return first[0] > second[0];\n}\n\nexport function sortBySelf(first: string, second: string) {\n  return first > second;\n}\n\nexport function sort(\n  array: any[],\n  fn: (item: any, comparisonItem: any) => boolean,\n) {\n  let subIndex;\n  let value;\n\n  for (let index = 0; index < array.length; ++index) {\n    value = array[index];\n\n    for (\n      subIndex = index - 1;\n      ~subIndex && fn(array[subIndex], value);\n      --subIndex\n    ) {\n      array[subIndex + 1] = array[subIndex];\n    }\n\n    array[subIndex + 1] = value;\n  }\n\n  return array;\n}\n","import { CLASSES, HASHABLE_TYPES, SEPARATOR } from './constants';\n\nimport type { Class } from './constants';\n\nexport function namespaceComplexValue(\n  classType: Class,\n  value: string | number | boolean,\n) {\n  return (\n    HASHABLE_TYPES.object + SEPARATOR + CLASSES[classType] + SEPARATOR + value\n  );\n}\n","import { SEPARATOR } from './constants';\nimport { namespaceComplexValue } from './utils';\n\nimport type { Class } from './constants';\n\nexport const NON_ENUMERABLE_CLASS_CACHE = new WeakMap<\n  NonEnumerableObject,\n  string\n>();\n\ntype NonEnumerableObject =\n  | Generator<any, any, any>\n  | Promise<any>\n  | WeakMap<any, any>\n  | WeakSet<any>;\n\nlet refId = 0;\nexport function getUnsupportedHash(\n  value: NonEnumerableObject,\n  classType: Class,\n): string {\n  const cached = NON_ENUMERABLE_CLASS_CACHE.get(value);\n\n  if (cached) {\n    return cached;\n  }\n\n  const toCache = namespaceComplexValue(\n    classType,\n    'NOT_ENUMERABLE' + SEPARATOR + refId++,\n  );\n\n  NON_ENUMERABLE_CLASS_CACHE.set(value, toCache);\n\n  return toCache;\n}\n","import {\n  ARRAY_LIKE_CLASSES,\n  HASHABLE_TYPES,\n  NON_ENUMERABLE_CLASSES,\n  PrimitiveWrapperClass,\n  PRIMITIVE_WRAPPER_CLASSES,\n  RECURSIVE_CLASSES,\n  SEPARATOR,\n  TYPED_ARRAY_CLASSES,\n  XML_ELEMENT_REGEXP,\n} from './constants';\nimport { sort, sortByKey, sortBySelf } from './sort';\n\nimport type {\n  ArrayLikeClass,\n  Class,\n  NonEnumerableClass,\n  RecursiveClass,\n  TypedArrayClass,\n} from './constants';\nimport { getUnsupportedHash } from './cache';\nimport { namespaceComplexValue } from './utils';\n\ninterface RecursiveState {\n  cache: WeakMap<any, number>;\n  id: number;\n}\n\nconst toString = Object.prototype.toString;\n\nfunction stringifyComplexType(\n  value: any,\n  classType: Class,\n  state: RecursiveState,\n) {\n  if (RECURSIVE_CLASSES[classType as RecursiveClass]) {\n    return stringifyRecursiveAsJson(classType as RecursiveClass, value, state);\n  }\n\n  if (classType === '[object Date]') {\n    return namespaceComplexValue(classType, value.getTime());\n  }\n\n  if (classType === '[object RegExp]') {\n    return namespaceComplexValue(classType, value.toString());\n  }\n\n  if (classType === '[object Event]') {\n    return namespaceComplexValue(\n      classType,\n      [\n        value.bubbles,\n        value.cancelBubble,\n        value.cancelable,\n        value.composed,\n        value.currentTarget,\n        value.defaultPrevented,\n        value.eventPhase,\n        value.isTrusted,\n        value.returnValue,\n        value.target,\n        value.type,\n      ].join(),\n    );\n  }\n\n  if (classType === '[object Error]') {\n    return namespaceComplexValue(\n      classType,\n      value.message + SEPARATOR + value.stack,\n    );\n  }\n\n  if (classType === '[object DocumentFragment]') {\n    return namespaceComplexValue(classType, stringifyDocumentFragment(value));\n  }\n\n  const element = classType.match(XML_ELEMENT_REGEXP);\n\n  if (element) {\n    return namespaceComplexValue(\n      'ELEMENT',\n      element[1] + SEPARATOR + value.outerHTML,\n    );\n  }\n\n  if (NON_ENUMERABLE_CLASSES[classType as NonEnumerableClass]) {\n    return getUnsupportedHash(value, classType);\n  }\n\n  if (PRIMITIVE_WRAPPER_CLASSES[classType as PrimitiveWrapperClass]) {\n    return namespaceComplexValue(classType, value.toString());\n  }\n\n  // This would only be hit with custom `toStringTag` values\n  return stringifyRecursiveAsJson('CUSTOM', value, state);\n}\n\nfunction stringifyRecursiveAsJson(\n  classType: RecursiveClass,\n  value: any,\n  state: RecursiveState,\n) {\n  const cached = state.cache.get(value);\n\n  if (cached) {\n    return namespaceComplexValue(classType, 'RECURSIVE~' + cached);\n  }\n\n  state.cache.set(value, ++state.id);\n\n  if (classType === '[object Object]') {\n    return value[Symbol.iterator]\n      ? getUnsupportedHash(value, classType)\n      : namespaceComplexValue(classType, stringifyObject(value, state));\n  }\n\n  if (ARRAY_LIKE_CLASSES[classType as ArrayLikeClass]) {\n    return namespaceComplexValue(classType, stringifyArray(value, state));\n  }\n\n  if (classType === '[object Map]') {\n    return namespaceComplexValue(classType, stringifyMap(value, state));\n  }\n\n  if (classType === '[object Set]') {\n    return namespaceComplexValue(classType, stringifySet(value, state));\n  }\n\n  if (TYPED_ARRAY_CLASSES[classType as TypedArrayClass]) {\n    return namespaceComplexValue(classType, value.join());\n  }\n\n  if (classType === '[object ArrayBuffer]') {\n    return namespaceComplexValue(classType, stringifyArrayBuffer(value));\n  }\n\n  if (classType === '[object DataView]') {\n    return namespaceComplexValue(classType, stringifyArrayBuffer(value.buffer));\n  }\n\n  if (NON_ENUMERABLE_CLASSES[classType as NonEnumerableClass]) {\n    return getUnsupportedHash(value, classType);\n  }\n\n  return namespaceComplexValue('CUSTOM', stringifyObject(value, state));\n}\n\nexport function stringifyArray(value: any[], state: RecursiveState) {\n  let index = value.length;\n\n  const result: string[] = new Array(index);\n\n  while (--index >= 0) {\n    result[index] = stringify(value[index], state);\n  }\n\n  return result.join();\n}\n\nexport function stringifyArrayBufferModern(buffer: ArrayBufferLike): string {\n  return Buffer.from(buffer).toString('utf8');\n}\n\nexport function stringifyArrayBufferFallback(buffer: ArrayBufferLike): string {\n  return String.fromCharCode.apply(\n    null,\n    new Uint16Array(buffer) as unknown as number[],\n  );\n}\n\nexport function stringifyArrayBufferNone(): string {\n  return 'UNSUPPORTED';\n}\n\nexport function stringifyDocumentFragment(fragment: DocumentFragment): string {\n  const children = fragment.children;\n\n  let index = children.length;\n\n  const innerHTML: string[] = new Array(index);\n\n  while (--index >= 0) {\n    innerHTML[index] = children[index]!.outerHTML;\n  }\n\n  return innerHTML.join();\n}\n\nconst stringifyArrayBuffer =\n  typeof Buffer !== 'undefined' && typeof Buffer.from === 'function'\n    ? stringifyArrayBufferModern\n    : typeof Uint16Array === 'function'\n    ? stringifyArrayBufferFallback\n    : stringifyArrayBufferNone;\n\nexport function stringifyMap(map: Map<any, any>, state: RecursiveState) {\n  const result: string[] | Array<[string, string]> = new Array(map.size);\n\n  let index = 0;\n  map.forEach((value, key) => {\n    result[index++] = [stringify(key, state), stringify(value, state)];\n  });\n\n  sort(result, sortByKey);\n\n  while (--index >= 0) {\n    result[index] = '[' + result[index]![0] + ',' + result[index]![1] + ']';\n  }\n\n  return '[' + result.join() + ']';\n}\n\nexport function stringifyObject(\n  value: Record<string, any>,\n  state: RecursiveState,\n) {\n  const properties = sort(Object.getOwnPropertyNames(value), sortBySelf);\n  const length = properties.length;\n  const result: string[] = new Array(length);\n\n  let index = length;\n\n  while (--index >= 0) {\n    result[index] =\n      properties[index]! + ':' + stringify(value[properties[index]!], state);\n  }\n\n  return '{' + result.join() + '}';\n}\n\nexport function stringifySet(set: Set<any>, state: RecursiveState) {\n  const result: string[] = new Array(set.size);\n\n  let index = 0;\n  set.forEach((value) => {\n    result[index++] = stringify(value, state);\n  });\n\n  return '[' + sort(result, sortBySelf).join() + ']';\n}\n\nexport function stringify(\n  value: any,\n  state: RecursiveState | undefined,\n): string {\n  const type = typeof value;\n\n  if (value == null || type === 'undefined') {\n    return HASHABLE_TYPES.empty + value;\n  }\n\n  if (type === 'object') {\n    return stringifyComplexType(\n      value,\n      toString.call(value) as unknown as Class,\n      state || { cache: new WeakMap(), id: 1 },\n    );\n  }\n\n  if (type === 'function' || type === 'symbol') {\n    return HASHABLE_TYPES[type] + value.toString();\n  }\n\n  if (type === 'boolean') {\n    return HASHABLE_TYPES.boolean + +value;\n  }\n\n  return HASHABLE_TYPES[type] + value;\n}\n","import { hash } from './hash';\nimport { stringify } from './stringify';\n\nexport default function hashIt<Value>(value: Value): number {\n  return hash(stringify(value, undefined));\n}\n"],"names":[],"mappings":"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"}